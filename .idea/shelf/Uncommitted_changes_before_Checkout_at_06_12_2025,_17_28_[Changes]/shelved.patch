Index: presentation/Navigation/NavigationHost.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from PyQt6 import QtCore\nfrom PyQt6.QtWidgets import QMainWindow, QStackedWidget, QWidget\n\nfrom presentation.Login_UI.login_window import Ui_Login\nfrom presentation.Product_list_UI.products import Ui_List_of_products\n\n\nclass LoginWindow(QMainWindow, Ui_Login):\n    def __init__(self, manager, VM):\n        super().__init__()\n        self.manager = manager\n        self.setupUi(self)\n        self.connect_signals()\n        self.VM = VM\n\n\n    def connect_signals(self):\n        self.login_button.clicked.connect(self.handle_login)\n        self.guest_button.clicked.connect(self.handle_login_as_guest)\n\n    def handle_login(self):\n        username = self.login_input.text()\n        password = self.password_input.text()\n        if self.VM.login(username, password):\n            self.manager.goto_window(\"MainWindow\")\n            self.manager.resize(1028, 599)\n\n\n    def handle_login_as_guest(self):\n        self.manager.goto_window(\"MainWindow\")\n\n\nclass List_of_products_screen_UI(QMainWindow, Ui_List_of_products):\n    def __init__(self, db, login_VM):\n        super().__init__()\n        self.db = db\n        self.login_VM = login_VM\n        self.query_from_DB()\n        self.setupUi(self, db)\n\n\n\nclass WindowManager(QMainWindow):\n    def __init__(self, loginVM, db):\n        super().__init__()\n        self.loginVM = loginVM\n        self.db= db\n\n        self.stack = QStackedWidget()\n\n        self.windows = {}\n\n        self.setCentralWidget(self.stack)\n\n        \"\"\"\n        –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏\n        \"\"\"\n        login_window_instance = LoginWindow(self, self.loginVM)\n        self.stack.addWidget(login_window_instance)\n        self.windows[\"LoginWindow\"] = login_window_instance\n\n        \"\"\"\n        –≠–∫—Ä–∞–Ω –ø—Ä–æ–¥—É–∫—Ç–æ–≤\n        \"\"\"\n        product_window_instance = List_of_products_screen_UI(self.db, login_VM= loginVM)\n        self.stack.addWidget(product_window_instance)\n        self.windows[\"MainWindow\"] = product_window_instance\n        self.goto_window(\"LoginWindow\")\n\n    def goto_window(self, name):\n        \"\"\"\n        –ú–µ—Ç–æ–¥-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –æ–∫–æ–Ω –≤ QStackedWidget.\n        \"\"\"\n        # –ó–¥–µ—Å—å –Ω–µ—Ç –æ—à–∏–±–∫–∏, —Ç–∞–∫ –∫–∞–∫ self.windows —É–∂–µ —Å–æ–∑–¥–∞–Ω –≤ __init__\n        if name == \"LoginWindow\":\n            self.setFixedSize(452, 507)\n            self.setWindowTitle(\"–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è\")\n        elif name == \"MainWindow\":\n            self.setFixedSize(1028, 599)\n            self.setWindowTitle(\"–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤\")\n\n\n        if name in self.windows:\n            widget = self.windows[name]\n            self.stack.setCurrentWidget(widget)\n        else:\n            print(f\"–û—à–∏–±–∫–∞: –û–∫–Ω–æ —Å –∏–º–µ–Ω–µ–º '{name}' –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.\")\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/presentation/Navigation/NavigationHost.py b/presentation/Navigation/NavigationHost.py
--- a/presentation/Navigation/NavigationHost.py	(revision 9856d1d20ddbb51adf19d6879dcc26aafbc60347)
+++ b/presentation/Navigation/NavigationHost.py	(date 1765031074022)
@@ -6,13 +6,13 @@
 
 
 class LoginWindow(QMainWindow, Ui_Login):
-    def __init__(self, manager, VM):
+    def __init__(self, manager, login_VM, db):
         super().__init__()
         self.manager = manager
         self.setupUi(self)
         self.connect_signals()
-        self.VM = VM
-
+        self.login_VM = login_VM
+        self.db = db
 
     def connect_signals(self):
         self.login_button.clicked.connect(self.handle_login)
@@ -21,7 +21,7 @@
     def handle_login(self):
         username = self.login_input.text()
         password = self.password_input.text()
-        if self.VM.login(username, password):
+        if self.login_VM.login(username, password):
             self.manager.goto_window("MainWindow")
             self.manager.resize(1028, 599)
 
@@ -30,16 +30,25 @@
         self.manager.goto_window("MainWindow")
 
 
+
 class List_of_products_screen_UI(QMainWindow, Ui_List_of_products):
     def __init__(self, db, login_VM):
         super().__init__()
         self.db = db
         self.login_VM = login_VM
-        self.query_from_DB()
+
         self.setupUi(self, db)
 
 
 
+        self.user_fio.setText(f"ghngh")
+        cards = self.query_from_DB()
+
+        for i in cards:
+            self.scrollLayout.addWidget(i)
+
+
+
 class WindowManager(QMainWindow):
     def __init__(self, loginVM, db):
         super().__init__()
@@ -55,7 +64,7 @@
         """
         –≠–∫—Ä–∞–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
         """
-        login_window_instance = LoginWindow(self, self.loginVM)
+        login_window_instance = LoginWindow(self, self.loginVM, db)
         self.stack.addWidget(login_window_instance)
         self.windows["LoginWindow"] = login_window_instance
 
@@ -68,10 +77,6 @@
         self.goto_window("LoginWindow")
 
     def goto_window(self, name):
-        """
-        –ú–µ—Ç–æ–¥-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –æ–∫–æ–Ω –≤ QStackedWidget.
-        """
-        # –ó–¥–µ—Å—å –Ω–µ—Ç –æ—à–∏–±–∫–∏, —Ç–∞–∫ –∫–∞–∫ self.windows —É–∂–µ —Å–æ–∑–¥–∞–Ω –≤ __init__
         if name == "LoginWindow":
             self.setFixedSize(452, 507)
             self.setWindowTitle("–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è")
@@ -79,6 +84,15 @@
             self.setFixedSize(1028, 599)
             self.setWindowTitle("–°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤")
 
+        if name in self.windows:
+            widget = self.windows[name]
+            self.stack.setCurrentWidget(widget)
+            widget.repaint()  # üî• –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∞—Ç—å
+            widget.update()  # üî• –æ–±–Ω–æ–≤–∏—Ç—å
+            self.stack.repaint()
+            self.stack.update()
+        else:
+            print(f"–û—à–∏–±–∫–∞: –û–∫–Ω–æ '{name}' –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.")
 
         if name in self.windows:
             widget = self.windows[name]
Index: main.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import sys\nfrom PyQt6.QtWidgets import (\n    QApplication, QMainWindow\n)\n\nfrom database.database import DBController\nfrom presentation.Navigation.NavigationHost import WindowManager, LoginWindow\nfrom repository.UserRepository import UserRepository\nfrom viewModel.LoginViewmodel import LoginViewModel\n\nif __name__ == \"__main__\":\n    \"\"\"\n    –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ë–î\n    \"\"\"\n    DB_NAME = \"shoesdb\"\n    DB_USER = \"me\"\n    DB_PASS = \"1488\"\n    DB_HOST = \"localhost\"\n    DB_PORT = \"5432\"\n    controller = DBController(DB_NAME, DB_USER, DB_PASS, DB_HOST, DB_PORT)\n\n    user_repo = UserRepository(controller)\n    login_view_model = LoginViewModel(user_repo)\n\n    login_success = login_view_model.login(\"admin\", \"12345\")\n    \"\"\"\n    –û—Ç—Ä–∏—Å–æ–≤–∫–∞ UI\n    \"\"\"\n\n    app = QApplication(sys.argv)\n    manager = WindowManager(loginVM= login_view_model, db= controller)\n    manager.show()\n    sys.exit(app.exec())\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/main.py b/main.py
--- a/main.py	(revision 9856d1d20ddbb51adf19d6879dcc26aafbc60347)
+++ b/main.py	(date 1765030291916)
@@ -29,5 +29,6 @@
 
     app = QApplication(sys.argv)
     manager = WindowManager(loginVM= login_view_model, db= controller)
+    print(f"{login_view_model.current_user}")
     manager.show()
     sys.exit(app.exec())
Index: viewModel/LoginViewmodel.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>class LoginViewModel:\n    def __init__(self, user_repository):\n        self._repository = user_repository\n        self._current_user = None\n        self._error_message = \"\"\n        self._is_authenticated = False\n\n    @property\n    def current_user(self):\n        return self._current_user\n\n    @property\n    def error_message(self):\n        return self._error_message\n\n    @property\n    def is_authenticated(self):\n        return self._is_authenticated\n\n    def login(self, username, password):\n        user = self._repository.search_user(username, password)\n\n        if user:\n            self._current_user = user\n            self._is_authenticated = True\n            self._error_message = \"\"\n            return True\n        else:\n            self._current_user = None\n            self._is_authenticated = False\n            self._error_message = \"Invalid login or password\"\n            return False\n\n    def logout(self):\n        self._current_user = None\n        self._is_authenticated = False\n        self._error_message = \"\"
===================================================================
diff --git a/viewModel/LoginViewmodel.py b/viewModel/LoginViewmodel.py
--- a/viewModel/LoginViewmodel.py	(revision 9856d1d20ddbb51adf19d6879dcc26aafbc60347)
+++ b/viewModel/LoginViewmodel.py	(date 1765031201614)
@@ -1,9 +1,16 @@
-class LoginViewModel:
+from PyQt6.QtCore import pyqtSignal, QObject
+
+from repository.UserRepository import User
+
+
+class LoginViewModel(QObject):
     def __init__(self, user_repository):
+        super().__init__()
         self._repository = user_repository
-        self._current_user = None
+        self._current_user = User(1, "s", "s")
         self._error_message = ""
         self._is_authenticated = False
+        print(self._current_user)
 
     @property
     def current_user(self):
@@ -19,12 +26,12 @@
 
     def login(self, username, password):
         user = self._repository.search_user(username, password)
-
         if user:
             self._current_user = user
             self._is_authenticated = True
             self._error_message = ""
             return True
+
         else:
             self._current_user = None
             self._is_authenticated = False
Index: presentation/Product_list_UI/products.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Form implementation generated from reading ui file 'products.ui'\n#\n# Created by: PyQt6 UI code generator 6.10.0\n#\n# WARNING: Any manual changes made to this file will be lost when pyuic6 is\n# run again.  Do not edit this file unless you know what you are doing.\n\n\nfrom PyQt6 import QtCore, QtGui, QtWidgets\nfrom PyQt6.QtWidgets import QWidget, QMainWindow, QSizePolicy\n\nfrom presentation.Product_list_UI.widget import ProductCardUI\n\n\nclass Ui_List_of_products(object):\n    def setupUi(self, List_of_products, db):\n        self.db = db\n        List_of_products.setObjectName(\"List_of_products\")\n        List_of_products.resize(1123, 645)\n        List_of_products.setMinimumSize(QtCore.QSize(0, 0))\n        self.centralwidget = QtWidgets.QWidget(parent=List_of_products)\n        self.centralwidget.setObjectName(\"centralwidget\")\n        self.logo_label = QtWidgets.QLabel(parent=self.centralwidget)\n        self.logo_label.setGeometry(QtCore.QRect(10, 10, 71, 61))\n        self.logo_label.setText(\"\")\n        self.logo_label.setPixmap(QtGui.QPixmap(\"../PycharmProjects/DemoExam/presentation/Desktop/import/Icon.png\"))\n        self.logo_label.setScaledContents(True)\n        self.logo_label.setObjectName(\"logo_label\")\n        self.gridLayoutWidget = QtWidgets.QWidget(parent=self.centralwidget)\n        self.gridLayoutWidget.setGeometry(QtCore.QRect(90, 0, 921, 80))\n        self.gridLayoutWidget.setObjectName(\"gridLayoutWidget\")\n        self.gridLayout = QtWidgets.QGridLayout(self.gridLayoutWidget)\n        self.gridLayout.setContentsMargins(0, 0, 0, 0)\n        self.gridLayout.setObjectName(\"gridLayout\")\n        self.horizontalLayout_3 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_3.setObjectName(\"horizontalLayout_3\")\n        self.provider_input = QtWidgets.QComboBox(parent=self.gridLayoutWidget)\n        font = QtGui.QFont()\n        font.setFamily(\"Times New Roman\")\n        font.setPointSize(10)\n        self.provider_input.setFont(font)\n        self.provider_input.setStyleSheet(\"#provider_input {\\n\"\n\"    border: 1px solid black;\\n\"\n\"}\\n\"\n\"\\n\"\n\"#provider_input:hover {\\n\"\n\"    border-color: #00FA9A;\\n\"\n\"}\")\n        self.provider_input.setObjectName(\"provider_input\")\n        self.provider_input.addItem(\"\")\n        self.horizontalLayout_3.addWidget(self.provider_input)\n        self.sort_input = QtWidgets.QComboBox(parent=self.gridLayoutWidget)\n        font = QtGui.QFont()\n        font.setFamily(\"Times New Roman\")\n        font.setPointSize(10)\n        self.sort_input.setFont(font)\n        self.sort_input.setStyleSheet(\"#sort_input {\\n\"\n\"    border: 1px solid black;\\n\"\n\"}\\n\"\n\"\\n\"\n\"#sort_input:hover {\\n\"\n\"    border-color: #00FA9A;\\n\"\n\"}\")\n        self.sort_input.setObjectName(\"sort_input\")\n        self.sort_input.addItem(\"\")\n        self.sort_input.addItem(\"\")\n        self.sort_input.addItem(\"\")\n        self.horizontalLayout_3.addWidget(self.sort_input)\n        self.search_input = QtWidgets.QLineEdit(parent=self.gridLayoutWidget)\n        font = QtGui.QFont()\n        font.setFamily(\"Times New Roman\")\n        font.setPointSize(10)\n        self.search_input.setFont(font)\n        self.search_input.setStyleSheet(\"#search_input {\\n\"\n\"    border: 1px solid black;\\n\"\n\"}\\n\"\n\"\\n\"\n\"#search_input:hover {\\n\"\n\"    border-color: #00FA9A;\\n\"\n\"}\")\n        self.search_input.setText(\"\")\n        self.search_input.setObjectName(\"search_input\")\n        self.horizontalLayout_3.addWidget(self.search_input)\n        self.horizontalLayout_10 = QtWidgets.QHBoxLayout()\n        self.horizontalLayout_10.setObjectName(\"horizontalLayout_10\")\n        self.add_product_button = QtWidgets.QPushButton(parent=self.gridLayoutWidget)\n        self.add_product_button.setMinimumSize(QtCore.QSize(91, 20))\n        font = QtGui.QFont()\n        font.setFamily(\"Times New Roman\")\n        font.setPointSize(10)\n        self.add_product_button.setFont(font)\n        self.add_product_button.setStyleSheet(\"#add_product_button {\\n\"\n\"    background-color: #7FFF00;\\n\"\n\"    border: 1px solid black;\\n\"\n\"}\\n\"\n\"\\n\"\n\"#add_product_button:hover {\\n\"\n\"    background-color: #00FA9A;\\n\"\n\"}\")\n        self.add_product_button.setObjectName(\"add_product_button\")\n        self.horizontalLayout_10.addWidget(self.add_product_button)\n        self.delete_product_button = QtWidgets.QPushButton(parent=self.gridLayoutWidget)\n        self.delete_product_button.setMinimumSize(QtCore.QSize(85, 20))\n        font = QtGui.QFont()\n        font.setFamily(\"Times New Roman\")\n        font.setPointSize(10)\n        self.delete_product_button.setFont(font)\n        self.delete_product_button.setStyleSheet(\"#delete_product_button {\\n\"\n\"    background-color: #7FFF00;\\n\"\n\"    border: 1px solid black;\\n\"\n\"}\\n\"\n\"\\n\"\n\"#delete_product_button:hover {\\n\"\n\"    background-color: #00FA9A;\\n\"\n\"}\")\n        self.delete_product_button.setObjectName(\"delete_product_button\")\n        self.horizontalLayout_10.addWidget(self.delete_product_button)\n        self.order_button = QtWidgets.QPushButton(parent=self.gridLayoutWidget)\n        self.order_button.setMinimumSize(QtCore.QSize(45, 20))\n        font = QtGui.QFont()\n        font.setFamily(\"Times New Roman\")\n        font.setPointSize(10)\n        self.order_button.setFont(font)\n        self.order_button.setStyleSheet(\"#order_button {\\n\"\n\"    background-color: #7FFF00;\\n\"\n\"    border: 1px solid black;\\n\"\n\"}\\n\"\n\"\\n\"\n\"#order_button:hover {\\n\"\n\"    background-color: #00FA9A;\\n\"\n\"}\")\n        self.order_button.setObjectName(\"order_button\")\n        self.horizontalLayout_10.addWidget(self.order_button)\n        self.horizontalLayout_3.addLayout(self.horizontalLayout_10)\n        self.gridLayout.addLayout(self.horizontalLayout_3, 0, 0, 1, 1)\n        self.horizontalLayout = QtWidgets.QHBoxLayout()\n        self.horizontalLayout.setObjectName(\"horizontalLayout\")\n        self.user_fio = QtWidgets.QLabel(parent=self.gridLayoutWidget)\n        font = QtGui.QFont()\n        font.setFamily(\"Times New Roman\")\n        font.setPointSize(10)\n        self.user_fio.setFont(font)\n        self.user_fio.setObjectName(\"user_fio\")\n        self.horizontalLayout.addWidget(self.user_fio)\n        self.logout_button = QtWidgets.QPushButton(parent=self.gridLayoutWidget)\n        self.logout_button.setMinimumSize(QtCore.QSize(41, 20))\n        font = QtGui.QFont()\n        font.setFamily(\"Times New Roman\")\n        font.setPointSize(10)\n        self.logout_button.setFont(font)\n        self.logout_button.setStyleSheet(\"#logout_button {\\n\"\n\"    background-color: #7FFF00;\\n\"\n\"    border: 1px solid black;\\n\"\n\"}\\n\"\n\"\\n\"\n\"#logout_button:hover {\\n\"\n\"    background-color: #00FA9A;\\n\"\n\"}\")\n        self.logout_button.setObjectName(\"logout_button\")\n        self.horizontalLayout.addWidget(self.logout_button)\n        self.gridLayout.addLayout(self.horizontalLayout, 0, 1, 1, 1)\n        self.scrollArea = QtWidgets.QScrollArea(parent=self.centralwidget)\n        self.scrollArea.setGeometry(QtCore.QRect(90, 90, 941, 471))\n        self.scrollArea.setStyleSheet(\"\")\n        self.scrollArea.setWidgetResizable(True)\n        self.scrollArea.setObjectName(\"scrollArea\")\n        self.scrollAreaWidgetContents = QtWidgets.QWidget()\n        self.scrollAreaWidgetContents.setGeometry(QtCore.QRect(0, 0, 939, 469))\n        self.scrollAreaWidgetContents.setObjectName(\"scrollAreaWidgetContents\")\n        self.scrollLayout = QtWidgets.QVBoxLayout(self.scrollAreaWidgetContents)\n        self.scrollLayout.setObjectName(\"scrollLayout\")\n\n        cards = self.query_from_DB()\n        for i in cards:  # –î–ª—è —Ç–µ—Å—Ç–∞ –¥–æ–±–∞–≤–ª—è–µ–º 4 –ø—Ä–æ–¥—É–∫—Ç–∞\n            self.scrollLayout.addWidget(i)\n\n        self.scrollArea.setWidget(self.scrollAreaWidgetContents)\n        List_of_products.setCentralWidget(self.centralwidget)\n\n        self.retranslateUi(List_of_products)\n        QtCore.QMetaObject.connectSlotsByName(List_of_products)\n\n    def retranslateUi(self, List_of_products):\n        _translate = QtCore.QCoreApplication.translate\n        List_of_products.setWindowTitle(_translate(\"List_of_products\", \"MainWindow\"))\n        self.provider_input.setItemText(0, _translate(\"List_of_products\", \"–í—Å–µ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∏\"))\n        self.sort_input.setCurrentText(_translate(\"List_of_products\", \"–ë–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏\"))\n        self.sort_input.setItemText(0, _translate(\"List_of_products\", \"–ë–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏\"))\n        self.sort_input.setItemText(1, _translate(\"List_of_products\", \"–ü–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é\"))\n        self.sort_input.setItemText(2, _translate(\"List_of_products\", \"–ü–æ —É–±—ã–≤–∞–Ω–∏—é\"))\n        self.search_input.setPlaceholderText(_translate(\"List_of_products\", \"–ü–æ–∏—Å–∫\"))\n        self.add_product_button.setText(_translate(\"List_of_products\", \"–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä\"))\n        self.delete_product_button.setText(_translate(\"List_of_products\", \"–£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä\"))\n        self.order_button.setText(_translate(\"List_of_products\", \"–ó–∞–∫–∞–∑—ã\"))\n        self.user_fio.setText(_translate(\"List_of_products\", \"–§–∞–º–∏–ª–∏—è –ò–º—è –û—Ç—á–µ—Å—Ç–≤–æ\"))\n        self.logout_button.setText(_translate(\"List_of_products\", \"–í—ã—Ö–æ–¥\"))\n\n    def query_from_DB(self):\n        query = \"\"\"\n        SELECT name, description, manufacturer, supplier, price, unit_of_measurement, discount, photo, quantity\n    FROM products;\n    \"\"\"\n\n        try:\n            result = self.db.execute_query(query, fetch=True)\n            cards = []\n            if result:\n                for row in result:\n                    name, description, manufacturer, supplier, price, unit, discount, photo, quantity = row\n\n                    if photo == '':\n                        photo = \"picture.png\"\n\n                    product_card = ProductCardUI(\n                        name=f\"{name}\",\n                        description=f\"{description}\",\n                        manufacturer=f\"{manufacturer}\",\n                        supplier=f\"{supplier}\",\n                        price=f\"{price}\",\n                        unit=f\"{unit}\",\n                        discount_percent=f\"{discount}\",\n                        quantity=f\"{quantity}\",\n                        image_path= photo\n                    )\n                    cards.append(product_card)\n                return cards\n            else:\n                print(\"–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: –Ω–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å.\")\n                return False\n\n        except Exception as e:\n            print(f\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: {e}\")\n            return False\n\n\n\n\nif __name__ == \"__main__\":\n    import sys\n    app = QtWidgets.QApplication(sys.argv)\n    sys.exit(app.exec())\n
===================================================================
diff --git a/presentation/Product_list_UI/products.py b/presentation/Product_list_UI/products.py
--- a/presentation/Product_list_UI/products.py	(revision 9856d1d20ddbb51adf19d6879dcc26aafbc60347)
+++ b/presentation/Product_list_UI/products.py	(date 1765030291897)
@@ -170,9 +170,9 @@
         self.scrollLayout = QtWidgets.QVBoxLayout(self.scrollAreaWidgetContents)
         self.scrollLayout.setObjectName("scrollLayout")
 
-        cards = self.query_from_DB()
-        for i in cards:  # –î–ª—è —Ç–µ—Å—Ç–∞ –¥–æ–±–∞–≤–ª—è–µ–º 4 –ø—Ä–æ–¥—É–∫—Ç–∞
-            self.scrollLayout.addWidget(i)
+        # cards = self.query_from_DB()
+        # for i in cards:  # –î–ª—è —Ç–µ—Å—Ç–∞ –¥–æ–±–∞–≤–ª—è–µ–º 4 –ø—Ä–æ–¥—É–∫—Ç–∞
+        #     self.scrollLayout.addWidget(i)
 
         self.scrollArea.setWidget(self.scrollAreaWidgetContents)
         List_of_products.setCentralWidget(self.centralwidget)
Index: repository/UserRepository.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>from database.database import DBController\n\n\nclass User:\n    def __init__(self, user_id, user_role, full_name):\n        self.user_id = user_id\n        self.user_role = user_role\n        self.full_name = full_name\n\n\nclass UserRepository:\n    def __init__(self, db_controller: DBController):\n        self._db = db_controller\n\n    def search_user(self, user_login, password):\n        query = \"\"\"\n                    SELECT user_id, user_role, full_name \n                    FROM Users \n                    WHERE user_login = %s AND user_password = %s\n                \"\"\"\n        params = (user_login, password)\n\n        try:\n            result = self._db.execute_query(query, params, fetch=True)\n\n            if result:\n                user_id, user_role, full_name,  = result[0]\n                print(f\"–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ID={user_id}, –†–æ–ª—å='{user_role}'\")\n                return User(user_id, user_role, full_name)\n            else:\n                print(\"–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: –Ω–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å.\")\n                return None\n        except Exception as e:\n            print(f\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: {e}\")\n            return None\n
===================================================================
diff --git a/repository/UserRepository.py b/repository/UserRepository.py
--- a/repository/UserRepository.py	(revision 9856d1d20ddbb51adf19d6879dcc26aafbc60347)
+++ b/repository/UserRepository.py	(date 1765030291904)
@@ -25,7 +25,7 @@
 
             if result:
                 user_id, user_role, full_name,  = result[0]
-                print(f"–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ID={user_id}, –†–æ–ª—å='{user_role}'")
+                print(f"–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ID={user_id}, –†–æ–ª—å='{user_role}', –ò–º—è='{full_name}'")
                 return User(user_id, user_role, full_name)
             else:
                 print("–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏: –Ω–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å.")
